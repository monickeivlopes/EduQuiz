<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Início do Professor</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='professor.css') }}">
</head>
<body class="page-inicio">
  <header>
    <div class="logo">
      <img src="{{ url_for('static', filename='img/Logo.png') }}" alt="Logo EduQuiz">
      <span>EDUQUIZ</span>
    </div>
    <nav>
      <a href="{{ url_for('ajudaProf') }}" class="btn-ajuda">Ajuda</a>
    </nav>
  </header>

  <main>
    <h1>Olá, {{ nome }}!</h1>

    <!-- Botão vira link para rota que carrega os selects -->
    <a href="{{ url_for('gerenciar_questoes') }}" class="btn-iniciar">Gerenciar Questões</a>

    <div class="botoes-secundarios">
      <a href="{{ url_for('relatorio_alunos') }}" class="btn-secundario">Relatório de alunos</a>
    </div>

    <div class="botoes-secundarios">
      <a href="{{ url_for('adicionar_materiais') }}" class="btn-secundario">Gerenciar materiais</a>
    </div>

    <button class="btn-sair" onclick="location.href='{{ url_for('logout') }}'">Sair</button>


  <!-- Modal de Gerenciar Questões -->
{% if niveis and assuntos %}
<div id="modalGerenciar" class="modal modal-open">
  <div class="modal-content">
    <h2 class="modal-titulo">Gerenciar Questões</h2>

    <form method="POST" action="{{ url_for('adicionar_questao') }}">
      <label for="nivel_id" class="label-filtro">Nível de dificuldade:</label>
      <select name="nivel_id" id="nivel_id" required>
        <option value="" disabled selected>Selecione</option>
        {% for nivel in niveis %}
        <option value="{{ nivel[0] }}">{{ nivel[1] }}</option>
        {% endfor %}
      </select>

      <label for="assunto_id" class="label-filtro">Assunto:</label>
      <select name="assunto_id" id="assunto_id" required>
        <option value="" disabled selected>Selecione</option>
        {% for assunto in assuntos %}
        <option value="{{ assunto[0] }}">{{ assunto[1] }}</option>
        {% endfor %}
      </select>

      <label for="enunciado" class="label-filtro">Enunciado:</label>
      <textarea name="enunciado" id="enunciado" placeholder="Digite o enunciado..." required></textarea>

      <label class="label-filtro">Alternativas:</label>
      {% for i in range(4) %}
      <input type="text" name="alternativas" placeholder="Alternativa {{ i+1 }}" required>
      {% endfor %}

      <label for="correta_index" class="label-filtro">Índice da correta (1 a 4):</label>
      <input type="number" name="correta_index" id="correta_index" min="1" max="4" required>
            <div class="modal-actions">
        <button type="button" onclick="fecharModal()">Voltar</button>
        <button type="submit" class="btn-concluir">Concluir</button>
      </div>
    </form>
  </div>
</div>
{% endif %}


  <script>
    function fecharModal() {
      document.getElementById("modalGerenciar").style.display = "none";
      window.location.href = "{{ url_for('index_professor') }}";
    }
  </script>
</body>
</html>
